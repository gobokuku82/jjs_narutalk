# 문서 초안 작성 시스템

업무용 문서를 자동으로 초안 작성해주는 AI 시스템입니다.

## 시스템 개요

사용자가 "영업방문 결과보고서를 작성해줘"와 같은 요청을 하면, 자동으로 문서 양식을 분석하고 필요한 정보를 수집하여 완성된 문서를 생성합니다.

## 워크플로우

### 1. 초기 분류 및 라우팅
- **입력**: 사용자 요청 (예: "영업방문 결과보고서를 작성해줘")
- **처리**: 라우터가 '문서초안작성'으로 분류
- **결과**: LLM을 통한 문서 카테고리 분류

### 2. 문서 양식 호출
- **처리**: 입력받은 카테고리에 해당하는 문서 양식 호출
- **상태**: ✅ Clear (구현 완료)

### 3. 문서 구성 요소 안내 및 재질문
- **처리**: 카테고리에 맞는 문서양식 요소를 사용자에게 안내하고 입력 요구
- **예시 응답**:
  ```
  영업방문 결과보고서는 다음 항목들로 구성되어 있습니다. 
  해당 내용에 대해 작성해주세요:
  
  - 고객사 개요
  - 프로젝트 개요  
  - 방문 및 협의 내용
  - 향후계획 및 일정
  - 협조사항 및 공유사항
  ```

### 4. 사용자 입력 내용 재분석
- **입력**: 사용자가 제공한 각 항목별 내용
- **처리**: LLM이 입력받은 프롬프트를 재분석하여 구조화
- **출력 예시**:
  ```
  고객사 개요: [사용자 입력 내용]
  프로젝트 개요: [사용자 입력 내용]  
  방문 및 협의 내용: [사용자 입력 내용]
  향후계획 및 일정: [사용자 입력 내용]
  협조사항 및 공유사항: [사용자 입력 내용]
  ```

### 5. 내부 규정 준수 검토
- **처리**: 재분석된 내용이 내부 규정 문서에 위반되는 사항이 있는지 확인
- **분기점**: 
  - ✅ **위반사항 없음** → 6단계로 진행
  - ❌ **위반사항 있음** → 7단계로 진행

### 6. 최종 문서 생성 및 반환
- **처리**: 재분석된 내용을 문서 양식에 자동 삽입
- **출력**: 완성된 문서를 파일 형태로 반환
- **형식**: 원본 문서 양식 형태 유지

### 7. 위반사항 안내 및 재작성 유도
- **처리**: 발견된 위반사항을 사용자에게 알림
- **안내**: 구체적인 위반 내용 및 수정 방향 제시  
- **순환**: LLM이 다시 작성하도록 유도 → 4단계로 복귀

## 지원 문서 유형

- 영업방문 결과보고서
- 매입 및 매출 일일보고서  
- 사업실적 분석보고서
- 영업계획안
- 주간영업 보고서
- 판매실적 보고서

## 기술 스택

- **언어**: Python
- **AI 모델**: OpenAI GPT-3.5-turbo
- **프롬프트 관리**: YAML 파일
- **환경 설정**: python-dotenv
- **문서 처리**: LangChain

## 파일 구조

```
doc_agent/
├── run.py              # 메인 실행 파일
├── tools.py            # 핵심 로직 및 AI 처리
├── prompt.yaml         # 프롬프트 템플릿 관리
├── S3/                 # 문서 양식 저장소
│   └── 영업방문 결과보고서(기본형).doc
└── README.md           # 본 파일
```

## 사용 방법

1. 환경 변수 설정 (OpenAI API 키)
2. `python run.py` 실행
3. 원하는 문서 작성 요청
4. 시스템 안내에 따라 필요 정보 입력
5. 완성된 문서 파일 수령

## 주요 특징

- 🤖 **AI 기반 자동 문서 작성**
- 📋 **표준 양식 준수**
- 🔍 **내부 규정 자동 검토**
- 💬 **대화형 정보 수집**
- 📄 **다양한 문서 유형 지원**

## 개발 상태

- [x] 기본 AI 모델 연동
- [x] 프롬프트 템플릿 시스템
- [x] 문서 양식 관리
- [ ] 대화형 정보 수집 인터페이스
- [ ] 내부 규정 검토 시스템
- [ ] 문서 자동 생성 및 파일 출력 